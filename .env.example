# Golden Axe Environment Configuration
# Copy this file to .env and fill in your values
# Usage: source .env (or use a tool like direnv)

# ============================================================================
# Backend (be) Configuration
# ============================================================================

# Main PostgreSQL database connection (blockchain data)
export PG_URL="postgres://localhost/be"

# Read-only database connection (optional, defaults to PG_URL)
export PG_URL_RO="postgres://localhost/be"

# Frontend database connection (for config and rate limiting)
export PG_URL_FE="postgres://localhost/fe?application_name=be"

# Server listen address
export LISTEN="0.0.0.0:8000"

# Maximum PostgreSQL connections (optional)
# export MAX_PG_CONNS="20"

# Logging level (trace, debug, info, warn, error)
export RUST_LOG="info"

# ============================================================================
# Frontend (fe) Configuration
# ============================================================================

# Frontend database connection
# export PG_URL_FE="postgres://localhost/fe"  # Already set above for be

# Frontend server port
export PORT="8001"

# Backend API URL (where fe sends queries)
export BE_URL="http://localhost:8000"

# Frontend URL (used in generated links/emails)
export FE_URL="http://localhost:8001"

# Session encryption key (generate with: openssl rand -hex 32)
# If not set, a new key will be generated on each startup (sessions won't persist)
# export SESSION_KEY="your-64-char-hex-string-here"

# Admin API secret for provisioning endpoints
export ADMIN_API_SECRET="dev-secret-change-in-production"

# ============================================================================
# Optional: Payment Integration (Stripe)
# ============================================================================

# Stripe API key (optional, for payment processing)
# export STRIPE_KEY="sk_test_..."

# Stripe public key (optional, for frontend)
# export STRIPE_PUB_KEY="pk_test_..."

# ============================================================================
# Optional: Email Integration (Postmark)
# ============================================================================

# Postmark API key (optional, for sending emails)
# export POSTMARK_KEY="your-postmark-key"

# ============================================================================
# Optional: Crypto Payment Integration (Daimo)
# ============================================================================

# Daimo API key (optional, for crypto payments)
# export DAIMO_KEY="your-daimo-key"

# Index Supply API key (optional, for Daimo blockchain verification)
# export INDEXSUPPLY_KEY="your-indexsupply-key"

# ============================================================================
# Development Helpers
# ============================================================================

# Disable blockchain syncing (useful for testing)
# export NO_SYNC="true"

# Use test database names
# export PG_URL="postgres://localhost/be_test"
# export PG_URL_FE="postgres://localhost/fe_test"
